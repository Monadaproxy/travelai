{% extends 'main/layout.html' %}

{% block title %}Генерация маршрута{% endblock %}

{% block content %}
<div class="features">
    <div class="alert alert-secondary" style="margin-top: 0px; float: left;">
        <h1>Спланируйте путешествие</h1>
        <form id="tripForm" method="post">
            {% csrf_token %}
            <h4>{{ form.as_p }}</h4>
            <button type="submit" class="btn btn-primary" id="generateBtn">Сгенерировать</button>
        </form>
    </div>
</div>

<script>
$(document).ready(function() {
    $('#tripForm').on('submit', function(e) {
        const $btn = $('#generateBtn');
        $btn.prop('disabled', true).html('<span class="spinner-border spinner-border-sm"></span> Генерация...');
    });
});
</script>

<style>
.spinner-border {
    vertical-align: text-top;
    margin-right: 5px;
}
</style>

{% endblock %}